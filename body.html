<div id="overlay" style="display: none" class="absolute-fill">
  <img id="recenterButton" src="./assets/textures/recenter.png">
   <img id="fanhui" src="./assets/reset.png">
   <img id="music" src="./assets/music.png">
  <img id="yd" src="./assets/yindao/yindao.png">
   <img id="yd2" src="./assets/yindao/yindao2.png">
  <img  src="./assets/yindao/fangzhi.png" id="promptText">>
</div>
 <!-- <img id="BG" src="./assets/LOGO.jpg" 
  style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; pointer-events: auto;"> -->
  
<a-scene 
xrextras-gesture-detector 
responsive-immersive 
landing-page="mediaSrc: #landing-page-video;" 
 xrextras-loading="
    loadBackgroundColor:#DAA520;
    cameraBackgroundColor:#CD853F;
    loadImage: #myCustomImage;
    loadAnimation: pulse"
  xrextras-runtime-error renderer="colorManagement: true;"
  xrweb="allowedDevices: any; disableDefaultEnvironment: true;"
  physics="none"
  >

  <xrextras-resource id="landing-page-video" src="./assets/moon-portal.mp4"></xrextras-resource>

  <!-- We can define assets here to be loaded while the load screen is displayed -->
  <a-assets>
     <img id="myCustomImage" src="assets/Ico.jpg">
    <!-- 音乐 -->
    <audio id="BGM" preload="auto" loop src="./assets/QFFY.mp3" ></audio>
    <!-- models -->
    <a-asset-item id="portal-rim-model" src="./assets/models/portal.glb"></a-asset-item>
    <a-asset-item id="terrainS" src="./assets/models/terrain.glb"></a-asset-item>
    <a-asset-item id="terrain" src="./assets/models/terrain4.glb"></a-asset-item>
    <a-asset-item id="platform-model" src="./assets/models/platform.glb"></a-asset-item>
    <a-asset-item id="door-effect-model" src="./assets/models/dooreffect.glb"></a-asset-item>
    <a-asset-item id="dragon-model" src="./assets/models/phoenix.glb"></a-asset-item>
    <!-- 壁画视频-->
    <video id="introvideo" muted autoplay loop="true" src="./assets/introduction.mp4">
    </video>

    <video id="jiuseluvideo" muted autoplay loop="true" src="./assets/bihua/jiuselu.mp4">
    </video>

    <video id="dancevideo" muted autoplay loop="true" src="./assets/bihua/dance.mp4">
    </video>

    <video id="yulanvideo" muted autoplay loop="true" src="./assets/bihua/yulan.mp4">
    </video>

    <video id="tanhuavideo" muted autoplay loop="true" src="./assets/bihua/tanhua.mp4">
    </video>

    <img id="bh1" src="./assets/bihua/dance.jpg">
    <img id="bh2" src="./assets/bihua/jiuselu.jpg">
    <img id="bh3" src="./assets/bihua/tanhua.jpg">
    <img id="bh4" src="./assets/bihua/yulan.jpg">
    <img id="bihua" src="./assets/bihua/bihua.png">


    <!-- 天空细节等 -->
    <img id="text-title" src="./assets/text-ziti.png">

    <img id="skybox-img" src="./assets/textures/skybox.jpg">
    <img id="blob-shadow-img" src="./assets/textures/blob-shadow.png">
    <img id="satellite-img" src="./assets/textures/satellite.png">
    <video id="portal-video" muted autoplay playsinline crossorigin="anonymous" loop="true"
      src="./assets/textures/portal-video.mp4"></video>









  </a-assets>

  <!-- Camera -->
  <a-camera id="camera" raycaster="objects: .cantap" cursor="
      fuse: false;
      rayOrigin: mouse;" position="0 9 11"
      physics="none">
  </a-camera>

  <!-- Hider walls -->
  <xrextras-opaque-background remove="true">
    <a-entity id="hider-walls">
      <a-box scale="100 1 100" position="0 -1 49" xrextras-hider-material></a-box>
      <a-box scale="100 100 1" position="0 50 75" xrextras-hider-material></a-box>
      <a-box scale="100 1 100" position="0 100 49" xrextras-hider-material></a-box>
      <a-box scale="1 100 100" position="-30 50 50" xrextras-hider-material></a-box>
      <a-box scale="1 100 100" position="30 50 50" xrextras-hider-material></a-box>
      <a-ring id="portalHiderRing" radius-inner="0.001" radius-outer="100" position="0 7.5 -0.2"
        xrextras-hider-material></a-ring>
    </a-entity>

    <a-entity id="portal-wall">
      <a-circle radius="5.2" rotation="0 180 0" position="0 7.5 0" scale="0.8 0.8 0" xrextras-hider-material></a-circle>
      <a-circle radius="5.2" rotation="0 180 0" position="0 7.5 0.25" scale="0.8 0.8 0" xrextras-hider-material>
      </a-circle>
    </a-entity>
  </xrextras-opaque-background>


  <!-- Lights -->
  <a-entity light="
      type: directional;
      castShadow: true;
      shadowMapHeight:2048;
      shadowMapWidth:2048;
      shadowCameraTop: 35;
      shadowCameraBottom: -20;
      shadowCameraRight: 40;
      shadowCameraLeft: -10;
      target: #portalRim" xrextras-attach="target: portalRim; offset: 18 7 14" shadow>
  </a-entity>

  <a-light type="ambient" intensity="0.3"></a-light>

  <!-- Portal Contents -->
  <a-entity id="portal-contents" position="0 0 0" rotation="0 0 0" scale="1 1 1">

    <a-entity id="dixing" gltf-model="#terrain" rotation="0 -90 0" position="-1 -5.5 36" scale="0.275 0.275 0.275" visible="false" shadow="cast: false">
    </a-entity>

    <a-entity id="dixingS" gltf-model="#terrainS" rotation="0 90 0"
      position="8 -2.5 -5"
      scale="0.5 0.5 0.5"
     visible="false" 
     shadow="cast: false">
    </a-entity>
    <!-- 九色鹿之舞 -->
    <a-box id="bihua1" material="src: #bh1; transparent: true; roughness: 0.8; metalness: 0" rotation="0 -45 0"
      position="23 2 -17.5" scale="24 16 1" class="cantap" shadow="cast: false">
    </a-box>
    <a-video id="dancewall" src="#dancevideo" scale="24 16 1" position="22.1 2 -16.9" rotation="0 -45 0" visible="false"
      shadow="cast: false"></a-video>

    <a-box id="bihua2" material="src: #bh2; transparent: true; roughness: 0.8; metalness: 0" rotation="0 -90 0"
      position="31 2 2" scale="24 16 1" class="cantap" shadow="cast: false">
      ></a-box>
    <a-video id="jiuseluwall" src="#jiuseluvideo" scale="24 16 1" position="30.3 2 2" rotation="0 90 0" visible="false"
      shadow="cast: false"></a-video>


    <a-box id="bihua3" material="src: #bh3; transparent: true; roughness: 0.8; metalness: 0" rotation="0 -90 0"
      position="-31 2 2" scale="24 16 1" class="cantap" shadow="cast: false">
      ></a-box>
    <a-video id="yulanwall" src="#yulanvideo" scale="24 16 1" position="-30.3 2 2" rotation="0 90 0" visible="false"
      shadow="cast: false"></a-video>


    <a-box id="bihua4" material="src: #bh4; transparent: true; roughness: 0.8; metalness: 0" rotation="0 45 0"
      position="-23 2 -17.5" scale="24 16 1" class="cantap" shadow="cast: false">
      ></a-box>

    <a-video id="tanhuawall" src="#tanhuavideo" scale="24 16 1" position="-22.1 2 -16.9" rotation="0 45 0"
      visible="false" shadow="cast: false"></a-video>
    <!-- 壁画介绍视频 -->

    <a-box id="introwall" material="src: #bihua" shadow="cast: false" rotation="0 0 0" position="0 2 -26" class="cantap"
      scale="28 16 1"></a-box>
    <a-video id="videowall" src="#introvideo" scale="28 16 1" position="0 2 -25.2" rotation="0 0 0" visible="false"
      shadow="cast: false"></a-video>
    
 


    <a-image id="wenzi" material="src: #text-title;transparent: true " class="cantap" rotation="0 0 0" position="0 5 -10"
      scale="9 6 1"></a-image>

    <a-entity id="dragon" visible="true" position="0 100 -75" rotation="0 0 0" animation="
    property: rotation;
    to: 0 360 0; 
    loop: true;
    dir: reverse;
    easing: linear;
    dur: 10000">
      <a-entity gltf-model="#dragon-model" rotation="0 -90 0" reflections="type: static" position="100 0 0"
        scale="0.115 0.115 0.115" shadow="receive: false" animation-mixer="loop: repeat">

      </a-entity>
    </a-entity>



    <a-entity id="platforms" gltf-model="#platform-model" rotation="0 0 0" reflections="type: static"
      position="-0.4 -1.3 -10" scale="9 9 9" shadow="receive: false">
    </a-entity>


   

    <!-- 以上不是脏东西 -->

    <a-sky src="#skybox-img" rotation="0 7 0"></a-sky>


    <!-- yincang -->

    <!-- <a-entity id="hider-ss">
      <a-box scale="100 1 100" position="0 -1 49" xrextras-hider-material></a-box>
      <a-box scale="100 100 1" position="0 50 75" xrextras-hider-material></a-box>
      <a-box scale="100 1 100" position="0 100 49" xrextras-hider-material></a-box>
      <a-box scale="1 100 100" position="-30 50 50" xrextras-hider-material></a-box>
      <a-box scale="1 100 100" position="30 50 50" xrextras-hider-material></a-box>
      
    </a-entity> -->

  
    </a-entity>

  </a-entity>

  <!-- Portal -->
  <a-entity id="portalRim" gltf-model="#portal-rim-model" spin="axis: x; speed: 14000" reflections="type: realtime"
    position="0 6 -1" rotation="0 0 0" scale="0.001 0.001 0.001" shadow="receive: false">
    <a-entity gltf-model="#door-effect-model" rotation="0 90 90" position="0 0 -0.5" scale="1 1 1"
      shadow="receive: false" animation-mixer="loop: repeat">
    </a-entity>

  </a-entity>

  <a-entity id="portalVideo" auto-play-video="video: #portal-video"
    material="shader: flat; src: #portal-video; blending: additive; side: front; transparent: true"
    geometry="primitive: plane; height: 1; width: 1;" position="0 7.5 0.1" scale="0.001 0.001 0.001">
  </a-entity>

  <a-circle id="portalShadow" radius="0.5" material="src: #blob-shadow-img; opacity: 0.65; roughness: 0.8; metalness: 0"
    position="0 0.01 1.25" rotation="-90 0 0" scale="0.001 0.001 0.001">
  </a-circle>


  <!-- 触发机制 -->

  <a-entity>
    <a-box movement id="ground" class="cantap" scale="1000 2 1000" position="0 -0.99 0"
      material="shader: shadow; transparent: true; opacity: 0.4" shadow>
    </a-box>
  </a-entity>

</a-scene>